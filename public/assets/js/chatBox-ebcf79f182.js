class chatBox{constructor(e,t){this.chatBox=$("#"+e),this.userEmail=t,this.socket=io.connect("http://localhost:5000"),this.userEmail&&this.connectionHandler()}connectionHandler(){let e=this;this.socket.on("connect",(function(){e.socket.emit("join_room",{chatRoom:"codeial",userEmail:e.userEmail}),e.socket.on("user_joined",(function(e){})),$("input[type=submit]",e.chatBox).click((function(){let t=$("input[type=text]",e.chatBox).val();e.socket.emit("send_msg",{msg:t,chatRoom:"codeial",userEmail:e.userEmail})})),e.socket.on("rcv_msg",(function(t){let s="other-message";t.userEmail==e.userEmail&&(s="self-message");let o=$("<li>");o.addClass(s),o.html(`\n                <div>\n                    ${t.msg}\n                    \n                </div>\n                <sub>\n                        ${t.userEmail}\n                </sub>\n                `),$("#messages-container > ul").append(o);var n=document.getElementById("messages-container");n.scrollTop=n.scrollHeight}))}))}}