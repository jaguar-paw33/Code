class Comment{constructor(e){this.postsContainer=e,this.commentForm=$(".new-comment-form",e),this.createComment();let t=this;$(".delete-comment-button",e).each((function(){t.deleteComment($(this))}))}createComment(){let e=this;this.commentForm.submit((function(t){t.preventDefault();$.ajax({type:"post",url:"/comments/create",data:e.commentForm.serialize(),success:function(t){let o=function(e){return $(`\n                <li id='comment-${e._id}'>\n                <p>\n                    <a class='delete-comment-button' href="/comments/destroy/${e._id}">DEL</a>\n                    ${e.content}\n                </p>\n                <p>${e.user.name}</p>\n              \n                    <p><a class='toggle-like-button' data-likes = 0 href="/likes/toggle?id=${e._id}&type=Comment">0</a></p>\n                 \n                </li>\n                `)}(t.data.comment);$(".comments-list",e.postsContainer).prepend(o);let n=$(".delete-comment-button",o);e.deleteComment(n),new toggleLike($(".toggle-like-button",o)),new Noty({theme:"relax",type:"success",text:"Commented Successfully",layout:"topRight",timeout:1e3}).show()},error:function(e){console.log("Error",e)}})}))}deleteComment(e){e.click((function(t){t.preventDefault(),$.ajax({type:"get",url:e.prop("href"),success:function(e){$("#comment-"+e.data.comment_id).remove(),new Noty({theme:"relax",type:"success",text:"Deleted Successfully",layout:"topRight",timeout:1e3}).show()},error:function(e){console.log("Error",e)}})}))}}